# B2B Lead Generation System — DA-4

> **Система генерации высококачественных лидов для нишевых B2B-рынков с низкой цифровой видимостью**  
> _Гибридный подход: ИИ + ручная валидация → максимальная конверсия в встречи_

---

## Цель проекта

Во многих B2B-сегментах (промышленность, логистика, импорт/экспорт) компании **невидимы** для LinkedIn, TenChat и других стандартных источников лидов.  
Но у них есть **цифровые следы** в открытых реестрах, тендерах, сертификатах и на сайтах.

Этот проект решает проблему «невидимых» клиентов через:
1. **Сбор данных** из нетипичных источников (в демо-режиме — синтетические данные),
2. **Обогащение ИИ** (анализ текстов на сайтах → выявление импортёров, продуктов, активности),
3. **Ручную валидацию** ключевых признаков (человек подтверждает: «Да, это активный импортёр»),
4. **Генерацию персонализированных писем**, ссылающихся на конкретные факты.

>  **Фокус не на количестве писем, а на качестве лидов и числе назначенных встреч.**

---

##  Текущий статус (v0.1 — демо-режим)

>  **Парсинг внешних источников (ЕГРЮЛ, zakupki.gov.ru и др.) пока не реализован.**  
> Вместо этого используется **демонстрационный набор данных** (`data/raw/companies_demo.db`), содержащий:
> - ИНН компании (`inn`)
> - Название (`name_short`)
> - Текст с веб-сайта (`news`) — для NLP-анализа

**Реализованы ключевые компоненты:**
-  **NLP-обогащение** через spaCy (русская модель): определяет импорт, продукты, страны, финансовую активность.
-  **Интерфейс ручной валидации** (Streamlit): валидатор подтверждает, является ли компания активным импортёром.
-  **Генерация персонализированных писем** с уровнем персонаализации (0–9).
-  **Сквозной пайплайн**: сырой текст → обогащённые признаки → валидация → письмо.

---

---

## Требования

- Python ≥ 3.8
- Зависимости: `pandas`, `spacy`, `streamlit`, `sqlite3` (встроен)

---

## Быстрый старт

   ```bash
   python -m venv .venv
   source .venv/bin/activate  # Linux/macOS
   .venv\Scripts\activate     # Windows
   pip install -r requirements.txt
   python -m spacy download ru_core_news_sm
   python scripts/pipeline.py
   streamlit run app_validator.py
   python scripts/email_composer.py
   
## Как работает проект
  - Демо-данные имитируют результат парсинга: у каждой компании есть ИНН, название и «текст с сайта».
  - pipeline.py прогоняет текст через CompanyEnricher:
  - Определяет: является ли компания импортёром?
  - Извлекает: продукты (электроника), страны, финансовую активность.
  - app_validator.py позволяет человеку подтвердить/опровергнуть признак «активный импортёр».
  - email_composer.py генерирует письмо, используя только валидированные компании и персонализируя его под факты («Мы заметили, что вы импортируете чипы из Китая...»).

Планы
  - Реализация парсера для ЕГРЮЛ (egrul.nalog.ru)
  - Парсинг публичных тендеров (zakupki.gov.ru)
  - Интеграция с базами сертификатов (Rosaccreditation)
  - Объединение записей об одной компании из разных источников (entity resolution)
  - ML-модель для ранжирования лидов по вероятности конверсии
